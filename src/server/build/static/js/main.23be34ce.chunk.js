(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{56:function(e,t,n){},86:function(e,t,n){e.exports={container:"ConvertedTextDetails_container__3r1p-"}},87:function(e,t,n){"use strict";n.r(t);var a,c,i,o,s,r,l,d,j=n(1),b=n.n(j),h=n(36),x=n.n(h),u=(n(56),n(9)),g=n(16),p=n(29),O=n(5),m=n(94),f=n(93),v=n(45),y=n(95),w=n(43),T=n(30),S=n.n(T),C=n(2),k=function(){var e=Object(u.f)(),t=Object(j.useState)(),n=Object(O.a)(t,2),a=n[0],c=n[1],i=Object(j.useState)(),o=Object(O.a)(i,2),s=o[0],r=o[1],l=Object(j.useState)(),d=Object(O.a)(l,2),b=(d[0],d[1],Object(j.useState)([])),h=Object(O.a)(b,2),x=h[0],g=h[1],p=Object(j.useState)("hidden"),T=Object(O.a)(p,2),k=T[0],L=T[1];Object(j.useEffect)((function(){fetch("api/text-to-speech/languages").then((function(e){return e.json()})).then((function(e){var t=[];Object.keys(e.languages).map((function(e){t.push(e)})),g(t)}),(function(e){console.log("error: "+e)}))}),[]);var D=x.map((function(e){return Object(C.jsx)(m.a.Item,{eventKey:e,children:e})})),P=function(e){r(e),console.log("selected language is "+e)};return Object(C.jsxs)("div",{style:{padding:"2rem"},children:[Object(C.jsx)(f.a,{children:Object(C.jsx)("h1",{children:"Upload a photo and get the text translated to your preferred language!"})}),Object(C.jsxs)(f.a,{style:{marginTop:"2rem"},children:[Object(C.jsxs)(v.a,{children:[Object(C.jsx)(y.a,{children:Object(C.jsx)(y.a.Group,{controlId:"formFile",className:"mb-3",children:Object(C.jsx)(y.a.Control,{onChange:function(e){0!==e.target.files.length&&c(URL.createObjectURL(e.target.files[0]))},type:"file",accept:"image/gif, image/jpeg, image/png"})})}),Object(C.jsxs)(f.a,{children:[Object(C.jsx)(v.a,{xs:3,children:Object(C.jsx)("h5",{children:"Translate to:"})}),Object(C.jsx)(v.a,{xs:5,children:Object(C.jsxs)(m.a,{onSelect:P,children:[Object(C.jsx)(m.a.Toggle,{variant:"success",id:"dropdown-basic",children:void 0!==s?s:"Choose Language"}),Object(C.jsx)(m.a.Menu,{style:{maxHeight:"20rem",overflowY:"auto"},children:D})]})})]}),Object(C.jsx)(f.a,{style:{marginTop:"1rem"},children:Object(C.jsx)(y.a,{children:Object(C.jsx)(y.a.Group,{className:"mb-3",controlId:"formBasicCheckbox"})})})]}),Object(C.jsx)(v.a,{children:Object(C.jsx)("div",{style:{maxWidth:"30rem"},children:Object(C.jsx)("img",{style:{maxHeight:"10rem",maxWidth:"30rem",textAlign:"center"},src:a})})})]}),Object(C.jsx)(f.a,{style:{marginTop:"2rem"},children:Object(C.jsx)(w.a,{variant:"dark",onClick:function(){if(console.log("handle submit clicked"),console.log("Selected langauge is: "+s),console.log("Image: "+a),void 0===a)alert("Please upload a pic");else if(void 0===s||""===P)alert("Please choose a language you wish to convert the text to.");else{L("visible");var t=new FormData,n=document.querySelector("#formFile").files[0];t.append("file",n),t.append("filename",n.name),t.append("language",s);console.log(t),console.log(t.get("file")),fetch("/api/uploadImage",{method:"POST",body:t}).then((function(e){return e.json()})).then((function(t){console.log(t),L("hidden"),alert("Succesfully uploaded image"),console.log(t.text.join("\n")),console.log(t.translated.join("\n")),console.log(t.audio),e.push({pathname:"/details",state:{imageData:a,imageName:n.name,selectedLanguage:s,dropdownLanguages:x,textData:t.text.join("\n"),translatedData:t.translated.join("\n"),textToSpeechUrl:t.audio}})})).catch((function(e){alert(e),console.log(e)}))}},children:"Convert Image Text"})}),Object(C.jsx)("div",{style:{position:"absolute",transform:"translate(450%, -250%)",visibility:"".concat(k)},children:Object(C.jsx)(S.a,{type:"ThreeDots",color:"#2BAD60",height:"100",width:"100"})})]})},L=function(){return Object(C.jsxs)("div",{children:[Object(C.jsxs)(p.a,{children:[Object(C.jsx)("meta",{charSet:"utf-8"}),Object(C.jsx)("title",{children:"PhoText - upload Image"}),Object(C.jsx)("meta",{name:"description",content:"This website is made for CSC 847 Group 3 Project"})]}),Object(C.jsx)("div",{class:"shadow p-3 mb-5 bg-white rounded",style:{width:"80rem",display:"flex",flexWrap:"wrap",margin:"auto",marginTop:"4rem"},children:Object(C.jsx)(k,{})})]})},D=(n(83),n(0)),P=n(13),I=n(14),F=I.a.nav(a||(a=Object(P.a)(["\n  background: #fdfdfd;\n  height: 80px;\n  /* margin-top: -80px; */\n  display: flex;\n  justify-content: left;\n  align-items: center;\n  font-size: 1rem;\n  position: sticky;\n  top: 0;\n  z-index: 10;\n  @media screen and (max-width: 960 px) {\n    transition: 0.8s all ease;\n    position: relative;\n  }\n"]))),z=I.a.div(c||(c=Object(P.a)(["\n  display: flex;\n  justify-content: space-between;\n  height: 80 px;\n  z-index: 1;\n  width: 100%;\n  padding: 0 1px;\n  max-width: 1100px;\n"]))),W=Object(I.a)(g.b)(i||(i=Object(P.a)(["\n  color: #021c35;\n  display: flex;\n  align-items: center;\n  text-decoration: none;\n  margin-top: 0.55rem;\n  padding: 0 3rem;\n  height: 100%;\n  cursor: pointer;\n  font-size: 1.2rem;\n  &.active {\n    border-bottom: 0.1rem solid #021c35;\n    font-weight: bold;\n  }\n  &:hover {\n    color: #272343;\n    font-weight: bolder;\n  }\n"]))),N=I.a.div(o||(o=Object(P.a)(["\n  display: block;\n  position: absolute;\n  top: 0;\n  right: 0;\n  transform: translate(-50%, 40%);\n  font-size: 1.8rem;\n  cursor: pointer;\n  color: #ffffff;\n"]))),A=I.a.ul(s||(s=Object(P.a)(["\n  display: flex;\n  align-items: center;\n  list-style: none;\n  text-align: center;\n  margin-right: -22px;\n  @media screen and (max-width: 768px) {\n    display: none;\n  }\n"]))),B=I.a.li(r||(r=Object(P.a)(["\n  height: 80px;\n"]))),G=(I.a.nav(l||(l=Object(P.a)(["\n  display: flex;\n  align-items: center;\n  @media screen and (max-width: 768px) {\n    display: none;\n  }\n"]))),Object(I.a)(g.b)(d||(d=Object(P.a)(["\n  border-radius: 50px;\n  background: #01bf71;\n  white-space: nowrap;\n  padding: 10px 22px;\n  color: #010606;\n  font-size: 16px;\n  outline: none;\n  border: none;\n  cursor: pointer;\n  transition: all 0.2 easein-out;\n  text-decoration: none;\n  &:hover {\n    transition: all 0.2s ease-in-out;\n    background: #fff;\n    color: #010606;\n  }\n"]))),function(e){e.toggle;return Object(C.jsx)(D.b.Provider,{value:{color:"#272343"},children:Object(C.jsx)(F,{children:Object(C.jsxs)(z,{children:[Object(C.jsx)(N,{children:Object(C.jsx)("h1",{style:{color:"#27ae60",fontFamily:"Mochiy Pop One, sans-serif",fontWeight:"bold"},children:"PhoText"})}),Object(C.jsx)(A,{children:Object(C.jsx)(B,{children:Object(C.jsx)(W,{exact:!0,activeClassName:"active",to:"/",children:"Upload Image"})})})]})})})}),U=(n(86),n(49)),E=function(){var e=Object(j.useState)(),t=Object(O.a)(e,2),n=t[0],a=t[1],c=Object(j.useState)(),i=Object(O.a)(c,2),o=i[0],s=i[1],r=Object(j.useState)(),l=Object(O.a)(r,2),d=l[0],b=l[1],h=Object(j.useState)(),x=Object(O.a)(h,2),g=x[0],p=x[1],T=Object(j.useState)("#7f8c8d"),k=Object(O.a)(T,2),L=(k[0],k[1],Object(j.useState)("hidden")),D=Object(O.a)(L,2),P=D[0],I=D[1],F=Object(u.g)();Object(j.useEffect)((function(){W()}),[]);var z=[];void 0!=F&&(z=F.state.dropdownLanguages);var W=function(){b(F.state.textData),p(F.state.translatedData),s(F.state.textToSpeechUrl)},N=z.map((function(e){return Object(C.jsx)(m.a.Item,{eventKey:e,children:e})}));return Object(C.jsxs)("div",{children:[Object(C.jsxs)(f.a,{style:{position:"relative"},children:[Object(C.jsx)(v.a,{children:Object(C.jsx)("div",{style:{position:"relative",top:"0",left:"0"},children:Object(C.jsx)("img",{style:{maxHeight:"50rem",maxWidth:"50rem",height:"100%",width:"100%",position:"relative",objectFit:"contain",top:"0",left:"0"},src:F.state.imageData})})}),Object(C.jsx)(v.a,{children:Object(C.jsxs)("div",{style:{margin:"0 auto",width:"100%",textAlign:"left",marginLeft:"7rem"},children:[Object(C.jsx)(f.a,{children:Object(C.jsxs)(y.a.Group,{children:[Object(C.jsx)(y.a.Label,{style:{color:"#000000",fontSize:"1rem",fontWeight:"bold",marginTop:"1rem"},children:"Vision API Identified Text"}),Object(C.jsx)(y.a.Control,{as:"textarea",rows:"3",required:!0,className:"input-field",style:{border:"1px",backgroundColor:"#bdc3c7"},readOnly:!0,value:d})]})}),Object(C.jsxs)(f.a,{style:{marginTop:"1rem"},children:[Object(C.jsx)(v.a,{children:Object(C.jsx)(f.a,{children:Object(C.jsx)(v.a,{children:Object(C.jsxs)(m.a,{onSelect:function(e){a(e),console.log("selected language is "+e),I("visible");var t=new FormData;t.append("language",e),t.append("filename",F.state.imageName),t.append("text",d),fetch("api/translate",{method:"POST",body:t}).then((function(e){return e.json()})).then((function(e){p(e.translated.join("\n")),s(e.url),I("hidden")}),(function(e){console.log("Error: "+e)}))},children:[Object(C.jsx)(m.a.Toggle,{variant:"success",id:"dropdown-basic",children:function(){var e="";void 0!==n?e=n:e=void 0!==F.state.selectedLanguage?F.state.selectedLanguage:"Choose Language";return e}()}),Object(C.jsx)(m.a.Menu,{style:{maxHeight:"15rem",overflowY:"auto"},children:N})]})})})}),Object(C.jsx)(v.a,{children:Object(C.jsx)(f.a,{children:Object(C.jsx)(v.a,{children:Object(C.jsxs)(w.a,{style:{marginLeft:"2.5rem"},onClick:function(){new Audio(o).play()},variant:"dark",children:["Text To Speech",Object(C.jsx)(U.a,{style:{marginBottom:"0.3rem"}})]})})})})]}),Object(C.jsx)(f.a,{style:{marginTop:"0rem"},children:Object(C.jsxs)(y.a.Group,{children:[Object(C.jsx)(y.a.Label,{style:{color:"#000000",fontSize:"1rem",fontWeight:"bold",marginTop:"1rem"},children:"Translated Text"}),Object(C.jsx)(y.a.Control,{as:"textarea",rows:"3",required:!0,className:"input-field",style:{border:"1px",backgroundColor:"#2ecc71"},readOnly:!0,value:g})]})})]})})]}),Object(C.jsx)("div",{style:{position:"absolute",transform:"translate(450%, -250%)",visibility:"".concat(P)},children:Object(C.jsx)(S.a,{type:"ThreeDots",color:"#2BAD60",height:"100",width:"100"})})]})},H=function(){return Object(C.jsx)("div",{children:Object(C.jsxs)("div",{children:[Object(C.jsxs)(p.a,{children:[Object(C.jsx)("meta",{charSet:"utf-8"}),Object(C.jsx)("title",{children:"PhoText - Translated Text"}),Object(C.jsx)("meta",{name:"description",content:"This website is made for CSC 847 Group 3 Project"})]}),Object(C.jsx)("div",{class:"shadow p-3 mb-5 bg-white rounded",style:{width:"80rem",display:"flex",flexWrap:"wrap",margin:"auto",marginTop:"4rem"},children:Object(C.jsx)(E,{})})]})})};var M=function(){var e=Object(u.f)();return Object(C.jsxs)(g.a,{history:e,children:[Object(C.jsx)(G,{}),Object(C.jsxs)(u.c,{children:[Object(C.jsx)(u.a,{path:"/",exact:!0,component:L}),Object(C.jsx)(u.a,{path:"/details",exact:!0,component:H})]})]})},q=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,96)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,i=t.getLCP,o=t.getTTFB;n(e),a(e),c(e),i(e),o(e)}))};x.a.render(Object(C.jsx)(b.a.StrictMode,{children:Object(C.jsx)(M,{})}),document.getElementById("root")),q()}},[[87,1,2]]]);
//# sourceMappingURL=main.23be34ce.chunk.js.map